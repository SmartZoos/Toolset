"use strict";function getLocation(t,e){function o(t){}if(!navigator.geolocation)throw"Geolocation is unavailable!";e===!0?navigator.geolocation.watchPosition(t,o):navigator.geolocation.getCurrentPosition(t,o)}function GameControls(t,e,o){var n=document.createElement("div");n.style.backgroundColor="#fff",n.style.border="2px solid #fff",n.style.borderRadius="3px",n.style.boxShadow="0 2px 6px rgba(0,0,0,.3)",n.style.cursor="pointer",n.style.marginBottom="22px",n.style.textAlign="center",t.appendChild(n);var i=document.createElement("i");i.style.fontSize="24px",i.style.color="rgb(25,25,25)",i.className="mdi mdi-target",i.style.marginRight="5px",i.title="Center map to current position",n.appendChild(i),i.addEventListener("click",function(){google.maps.event.trigger(o,"click"),e.setCenter(o.getPosition())});var a=document.createElement("i");a.style.fontSize="24px",a.style.color="rgb(25,25,25)",a.className="mdi mdi-exit-to-app",a.title="Exit the game",n.appendChild(a),a.addEventListener("click",function(){confirm("Are you sure you want to exit the game?")})}function initMap(){function t(t){return!(!t||!t.getMap())}function e(e){t(e)&&e.close()}function o(t,o,n){var i={path:google.maps.SymbolPath.CIRCLE,fillColor:"red",fillOpacity:1,scale:4.5,strokeColor:"white",strokeWeight:1},a=new google.maps.Marker({title:"It's You!",position:{lat:t.coords.latitude,lng:t.coords.longitude},map:n,icon:i});return a.addListener("click",function(){e(o),o.setContent(this.title),o.open(n,this)}),a}function n(t,e){var o=document.createElement("div"),n=new GameControls(o,e,t);n.index=1,e.controls[google.maps.ControlPosition.TOP_RIGHT].push(o)}var i,a,l,r;r=new google.maps.InfoWindow,getLocation(function(t){i={center:{lat:t.coords.latitude,lng:t.coords.longitude},zoom:18,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0},a=new google.maps.Map(document.getElementById("map"),i),l=o(t,r,a),n(l,a),getLocation(function(t){e(r),l.setPosition({lat:t.coords.latitude,lng:t.coords.longitude})},!0)})}