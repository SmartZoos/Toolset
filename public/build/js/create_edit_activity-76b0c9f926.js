!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=7)}([function(t,e,n){"use strict";(function(e){function n(t,e){window.console}function r(t,e,n){if("object"==typeof e)n(e);else{var r=e.call(this);if("function"==typeof r)if(r.resolved)n(r.resolved);else if(r.requested)r.pendingCallbacks.push(n);else{r.requested=!0;var o=r.pendingCallbacks=[n];r(function(t){r.resolved=t;for(var e=0,n=o.length;e<n;e++)o[e](t)},function(){n()})}else i(r)&&r.then(function(t){n(t)},function(){n()})["catch"](function(t){n()})}}function i(t){return t&&"function"==typeof t.then}function o(t){if(!b){var e=t.$watch("__watcher__",function(t){});b=t._watchers[0].constructor,e()}return b}function a(t){return!w&&t&&t._data&&t._data.__ob__&&t._data.__ob__.dep&&(w=t._data.__ob__.dep.constructor),w}function s(t){return null===t||void 0===t}function l(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function c(t){return null!==t&&"object"==typeof t}function u(t){return k.call(t)===I}function d(t,e){return $.call(t,e)}function f(t){return Z.test(t)}function h(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function p(t){if(void 0===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:case 48:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return e>=97&&e<=122||e>=65&&e<=90?"ident":e>=49&&e<=57?"number":"else"}function v(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(f(e)?h(e):"*"+e)}function g(t){function e(){var e=t[u+1];if(d===z&&"'"===e||d===q&&'"'===e)return u++,r="\\"+e,h[S](),!0}var n,r,i,o,a,s,l,c=[],u=-1,d=M,f=0,h=[];for(h[L]=function(){void 0!==i&&(c.push(i),i=void 0)},h[S]=function(){void 0===i?i=r:i+=r},h[N]=function(){h[S](),f++},h[P]=function(){if(f>0)f--,d=V,h[S]();else{if(f=0,i=v(i),i===!1)return!1;h[L]()}};null!=d;)if(u++,n=t[u],"\\"!==n||!e()){if(o=p(n),l=H[d],a=l[o]||l["else"]||X,a===X)return;if(d=a[0],s=h[a[1]],s&&(r=a[2],r=void 0===r?n:r,s()===!1))return;if(d===Y)return c.raw=t,c}}function m(t){var e=A[t];return e||(e=g(t),e&&(A[t]=e)),e}function y(t,r){void 0===r&&(r={});var i=t.version&&Number(t.version.split(".")[0])||-1;if("production"!==e.env.NODE_ENV&&y.installed)return void n("already installed.");if("production"!==e.env.NODE_ENV&&i<2)return void n("vue-i18n ("+y.version+") need to use Vue 2.0 or later (Vue: "+t.version+").");var o="en";_(t,o),x(t,W),D(t,W),R(t,W,o),G(t)}function _(t,e){var n=t.config.silent;t.config.silent=!0,W||(W=new t({data:{lang:e,locales:{}}})),t.config.silent=n}var b,w,C,x=function(t,e){t.locale=function(t,i,o){return void 0===i?e.locales[t]:void(null===i?(e.locales[t]=void 0,delete e.locales[t]):r(t,i,function(r){r?e.$set(e.locales,t,r):n("failed set `"+t+"` locale"),o&&o()}))}},D=function(t,e){var n=t.prototype._init;t.prototype._init=function(t){var r=this;n.call(this,t),this.$parent||(this._$lang=e,this._langUnwatch=this._$lang.$watch("$data",function(t,e){r.$forceUpdate()},{deep:!0}))};var r=t.prototype._destroy;t.prototype._destroy=function(){!this.$parent&&this._langUnwatch&&(this._langUnwatch(),this._langUnwatch=null,this._$lang=null),r.apply(this,arguments)}},k=Object.prototype.toString,I="[object Object]",$=Object.prototype.hasOwnProperty,T=null,O=null,R=function(t,e,n){function r(t,e){var n=new i(e,t,null,{lazy:!0});return function(){return n.dirty&&n.evaluate(),s&&s.target&&n.depend(),n.value}}var i=o(e),s=a(e);Object.defineProperty(t.config,"lang",{enumerable:!0,configurable:!0,get:r(function(){return e.lang},e),set:l(function(t){e.lang=t},e)}),C=n,Object.defineProperty(t.config,"fallbackLang",{enumerable:!0,configurable:!0,get:function(){return C},set:function(t){C=t}}),Object.defineProperty(t.config,"missingHandler",{enumerable:!0,configurable:!0,get:function(){return T},set:function(t){T=t}}),Object.defineProperty(t.config,"i18nFormatter",{enumerable:!0,configurable:!0,get:function(){return O},set:function(t){O=t}})},F=/(%|)\{([0-9a-zA-Z_]+)\}/g,E=function(t){function e(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return e=1===e.length&&"object"==typeof e[0]?e[0]:{},e&&e.hasOwnProperty||(e={}),t.replace(F,function(n,r,i,o){var a;return"{"===t[o-1]&&"}"===t[o+n.length]?i:(a=d(e,i)?e[i]:n,s(a)?"":a)})}return e},A=Object.create(null),S=0,L=1,N=2,P=3,M=0,j=1,B=2,U=3,V=4,z=5,q=6,Y=7,X=8,H=[];H[M]={ws:[M],ident:[U,S],"[":[V],eof:[Y]},H[j]={ws:[j],".":[B],"[":[V],eof:[Y]},H[B]={ws:[B],ident:[U,S],0:[U,S],number:[U,S]},H[U]={ident:[U,S],0:[U,S],number:[U,S],ws:[j,L],".":[B,L],"[":[V,L],eof:[Y,L]},H[V]={"'":[z,S],'"':[q,S],"[":[V,N],"]":[j,P],eof:X,"else":[V,S]},H[z]={"'":[V,S],eof:X,"else":[z,S]},H[q]={'"':[V,S],eof:X,"else":[q,S]};var W,Z=/^\s?(true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/,Q=function(t){function e(t){if(null===t||void 0===t)return!0;if(Array.isArray(t)){if(t.length>0)return!1;if(0===t.length)return!0}else if(u(t))for(var e in t)if(d(t,e))return!1;return!0}function n(t,n){if(!c(t))return null;var r=m(n);if(e(r))return null;for(var i=r.length,o=null,a=t,s=0;s<i;){var l=a[r[s]];if(void 0===l){a=null;break}a=l,s++}return o=a}return n},G=function(t){function r(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=t.config.lang,i=t.config.fallbackLang;return 1===e.length?c(e[0])||Array.isArray(e[0])?e=e[0]:"string"==typeof e[0]&&(r=e[0]):2===e.length&&("string"==typeof e[0]&&(r=e[0]),(c(e[1])||Array.isArray(e[1]))&&(e=e[1])),{lang:r,fallback:i,params:e}}function i(t,e){return!(!t||!e)&&!s(m(t,e))}function o(e,r,i){if(!e)return null;var a=m(e,r);if(Array.isArray(a))return a;if(s(a)&&(a=e[r]),s(a))return null;if("string"!=typeof a)return n("Value of key '"+r+"' is not a string!"),null;if(a.indexOf("@:")>=0){var l=a.match(/(@:[\w|.]+)/g);for(var c in l){var u=l[c],d=u.substr(2),f=o(e,d,i);a=a.replace(u,f)}}return i?t.config.i18nFormatter?t.config.i18nFormatter.apply(null,[a].concat(i)):g(a,i):a}function a(t,r,i,a,l){var c=null;return c=o(t(r),a,l),s(c)?(c=o(t(i),a,l),s(c)?null:("production"!==e.env.NODE_ENV&&n('Fall back to translate the keypath "'+a+'" with "'+i+'" language.'),c)):c}function u(r,i,o,a){return s(a)?(t.config.missingHandler?t.config.missingHandler.apply(null,[r,i,o]):"production"!==e.env.NODE_ENV&&n('Cannot translate the value of keypath "'+i+'". Use the value of keypath as default'),i):a}function d(e){return t.locale(e)}function f(t){return this.$options.locales[t]}function h(t){return t?t>1?1:0:1}function p(t,e){return t=Math.abs(t),2===e?h(t):t?Math.min(t,2):0}function v(t,e){if(!t&&"string"!=typeof t)return null;var n=t.split("|");return e=p(e,n.length),n[e]?n[e].trim():t}var g=E(t),m=Q(t);return t.t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var i=r.apply(void 0,e),o=i.lang,s=i.fallback,l=i.params;return u(o,t,null,a(d,o,s,t,l))},t.tc=function(e,n){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];return v(t.t.apply(t,[e].concat(r)),n)},t.te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var o=r.apply(void 0,e),a=o.lang;return i(d(a),t)},t.prototype.$t=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!t)return"";var i=r.apply(void 0,e),o=i.lang,s=i.fallback,c=i.params,h=null;return this.$options.locales&&(h=a(l(f,this),o,s,t,c))?h:u(o,t,this,a(d,o,s,t,c))},t.prototype.$tc=function(t,e){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return"number"!=typeof e&&"undefined"!=typeof e?t:v((i=this).$t.apply(i,[t].concat(n)),e);var i},t.prototype.$te=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var o=r.apply(void 0,e),a=o.lang,s=!1;return this.$options.locales&&(s=i(l(f)(a),t)),s||(s=i(d(a),t)),s},t.mixin({computed:{$lang:function(){return t.config.lang}}}),t};y.version="__VERSION__","undefined"!=typeof window&&window.Vue&&window.Vue.use(y),t.exports=y}).call(e,n(3))},function(t,e,n){var r,i;r=n(2);var o=n(5);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){"use strict";var r=n(6),i=n.n(r);e["default"]={components:{draggable:i.a},props:["baseUrl","apiUrl","canCreateActivityItem"],mounted:function(){var t=this,e=this;window.Laravel.activityItems&&(this.items=window.Laravel.activityItems),window.Laravel.zooOptions&&(this.zooOptions=_.merge(window.Laravel.zooOptions,this.zooOptions)),window.Laravel.questionTypeOptions&&(this.questionTypeOptions=_.merge(window.Laravel.questionTypeOptions,this.questionTypeOptions)),window.Laravel.languageOptions&&(this.languageOptions=_.merge(window.Laravel.languageOptions,this.languageOptions)),this.$nextTick(function(){$(t.$refs.modal).on("hide.bs.modal",function(t){e.inAjaxCall&&t.preventDefault()})})},data:function(){return{items:[],options:{sort:!0},inAjaxCall:!1,searchResults:{data:[],total:0,loadMore:!1,order:{by:null,direction:null}},zooOptions:{0:this.$t("any")},questionTypeOptions:{0:this.$t("any")},languageOptions:{0:this.$t("any")},searchForm:{keywords:"",zoo:"0",questionType:"0",language:"0"}}},computed:{sortedSearchResults:function(){return this.searchResults.order.by&&this.searchResults.order.direction?_.orderBy(this.searchResults.data,this.searchResults.order.by,this.searchResults.order.direction):this.searchResults.data}},methods:{openDialog:function(){var t=this;this.$nextTick(function(){$(t.$refs.modal).modal("show")})},closeDialog:function(){var t=this;this.inAjaxCall||this.$nextTick(function(){$(t.$refs.modal).modal("hide")})},searchForItems:function(){if(!this.inAjaxCall){var t=this,e={keywords:t.searchForm.keywords,zoo:t.searchForm.zoo,questionType:t.searchForm.questionType,language:t.searchForm.language};t.inAjaxCall=!0,this.$http.get(t.apiUrl+"/activity_items/search",{params:e}).then(function(n){t.inAjaxCall=!1,t.searchResults.total=n.body.total,t.searchResults.currentPage=n.body.current_page,t.searchResults.params=e,t.searchResults.loadMore=n.body.current_page<n.body.last_page,t.searchResults.data=_.cloneDeep(n.body.data)},function(e){t.inAjaxCall=!1})}},loadMoreItems:function(){var t=this;t.inAjaxCall=!0,t.searchResults.params.page=t.searchResults.currentPage+1,this.$http.get(t.apiUrl+"/activity_items/search",{params:t.searchResults.params}).then(function(e){t.inAjaxCall=!1;var n=t.searchResults.data;n.push.apply(n,_.cloneDeep(e.body.data)),t.searchResults.currentPage=e.body.current_page,t.searchResults.loadMore=e.body.current_page<e.body.last_page},function(e){t.inAjaxCall=!1})},getItemIndex:function(t){return _.findIndex(this.items,function(e){return e.id===t.id})},hasItem:function(t){return this.getItemIndex(t)!==-1},addItem:function(t){this.hasItem(t)||this.items.push(t)},removeItem:function(t){var e=this.getItemIndex(t);e!==-1&&this.items.splice(e,1)},getOptionValueFromId:function(t,e){var n=t[e];return n?n:e},getZooFromId:function(t){return this.getOptionValueFromId(this.zooOptions,t)},getQuestionTypeFromId:function(t){return this.getOptionValueFromId(this.questionTypeOptions,t)},getLanguageFromId:function(t){return this.getOptionValueFromId(this.languageOptions,t)},sortSearchResults:function(t){var e=this.searchResults.order.by,n=this.searchResults.order.direction;e===t?this.searchResults.order.direction="desc"===n?"asc":"desc":(this.searchResults.order.by=t,this.searchResults.order.direction=n?n:"desc")},isOrderedBy:function(t){return this.searchResults.order.by===t}}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(t){if(d===clearTimeout)return clearTimeout(t);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){v&&h&&(v=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=p.length;e;){for(h=p,p=[];++g<e;)h&&h[g].run();g=-1,e=p.length}h=null,v=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var u,d,f=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(t){d=r}}();var h,p=[],v=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new l(t,e)),1!==p.length||v||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,n){var r,i;!function(o){"use strict";r=o,i="function"==typeof r?r.call(e,n,e,t):r,!(void 0!==i&&(t.exports=i))}(function(){"use strict";function t(e,n){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=n=_({},n),e[H]=this;var r={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:t.supportPointer!==!1};for(var i in r)!(i in n)&&(n[i]=r[i]);ut(n);for(var a in this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!n.forceFallback&&nt,o(e,"mousedown",this._onTapStart),o(e,"touchstart",this._onTapStart),n.supportPointer&&o(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(o(e,"dragover",this),o(e,"dragenter",this)),lt.push(this._onDragOver),n.store&&this.sort(n.store.get(this))}function e(t,e){"clone"!==t.lastPullMode&&(e=!0),$&&$.state!==e&&(l($,"display",e?"none":""),e||$.state&&(t.options.group.revertClone?(T.insertBefore($,O),t._animate(D,$)):T.insertBefore($,D)),$.state=e)}function n(t,e,n){if(t){n=n||Z;do if(">*"===e&&t.parentNode===n||m(t,e))return t;while(t=r(t))}return null}function r(t){var e=t.host;return e&&e.nodeType?e:t.parentNode}function i(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.preventDefault()}function o(t,e,n){t.addEventListener(e,n,tt)}function a(t,e,n){t.removeEventListener(e,n,tt)}function s(t,e,n){if(t)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Y," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(Y," ")}}function l(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return Z.defaultView&&Z.defaultView.getComputedStyle?n=Z.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function c(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function u(t,e,n,r,i,o,a,s){t=t||e[H];var l=Z.createEvent("Event"),c=t.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);l.initEvent(n,!0,!0),l.to=i||e,l.from=o||e,l.item=r||e,l.clone=$,l.oldIndex=a,l.newIndex=s,e.dispatchEvent(l),c[u]&&c[u].call(t,l)}function d(t,e,n,r,i,o,a,s){var l,c,u=t[H],d=u.options.onMove;return l=Z.createEvent("Event"),l.initEvent("move",!0,!0),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||e.getBoundingClientRect(),l.willInsertAfter=s,t.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function f(t){t.draggable=!1}function h(){it=!1}function p(t,e){var n=t.lastElementChild,r=n.getBoundingClientRect();return e.clientY-(r.top+r.height)>5||e.clientX-(r.left+r.width)>5}function v(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function g(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t&&(t=t.previousElementSibling);)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!m(t,e)||n++;return n}function m(t,e){if(t){e=e.split(".");var n=e.shift().toUpperCase(),r=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(r)||[]).length!=e.length)}return!1}function y(t,e){var n,r;return function(){void 0===n&&(n=arguments,r=this,G(function(){1===n.length?t.call(r,n[0]):t.apply(r,n),n=void 0},e))}}function _(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function b(t){return K&&K.dom?K.dom(t).cloneNode(!0):J?J(t).clone(!0)[0]:t.cloneNode(!0)}function w(t){for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&st.push(r)}}function C(t){return G(t,0)}function x(t){return clearTimeout(t)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var D,k,I,$,T,O,R,F,E,A,S,L,N,P,M,j,B,U,V,z,q={},Y=/\s+/g,X=/left|right|inline/,H="Sortable"+(new Date).getTime(),W=window,Z=W.document,Q=W.parseInt,G=W.setTimeout,J=W.jQuery||W.Zepto,K=W.Polymer,tt=!1,et=!1,nt="draggable"in Z.createElement("div"),rt=function(t){return!navigator.userAgent.match(/(?:Trident.*rv[ :]?11\.|msie)/i)&&(t=Z.createElement("x"),t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents)}(),it=!1,ot=Math.abs,at=Math.min,st=[],lt=[],ct=y(function(t,e,n){if(n&&e.scroll){var r,i,o,a,s,l,c=n[H],u=e.scrollSensitivity,d=e.scrollSpeed,f=t.clientX,h=t.clientY,p=window.innerWidth,v=window.innerHeight;if(E!==n&&(F=e.scroll,E=n,A=e.scrollFn,F===!0)){F=n;do if(F.offsetWidth<F.scrollWidth||F.offsetHeight<F.scrollHeight)break;while(F=F.parentNode)}F&&(r=F,i=F.getBoundingClientRect(),o=(ot(i.right-f)<=u)-(ot(i.left-f)<=u),a=(ot(i.bottom-h)<=u)-(ot(i.top-h)<=u)),o||a||(o=(p-f<=u)-(f<=u),a=(v-h<=u)-(h<=u),(o||a)&&(r=W)),q.vx===o&&q.vy===a&&q.el===r||(q.el=r,q.vx=o,q.vy=a,clearInterval(q.pid),r&&(q.pid=setInterval(function(){return l=a?a*d:0,s=o?o*d:0,"function"==typeof A?A.call(c,s,l,t):void(r===W?W.scrollTo(W.pageXOffset+s,W.pageYOffset+l):(r.scrollTop+=l,r.scrollLeft+=s))},24)))}},30),ut=function(t){function e(t,e){return void 0!==t&&t!==!0||(t=n.name),"function"==typeof t?t:function(n,r){var i=r.options.group.name;return e?t:t&&(t.join?t.indexOf(i)>-1:i==t)}}var n={},r=t.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n};try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){et=!1,tt={capture:!1,passive:et}}}))}catch(dt){}return t.prototype={constructor:t,_onTapStart:function(t){var e,r=this,i=this.el,o=this.options,a=o.preventOnFilter,s=t.type,l=t.touches&&t.touches[0],c=(l||t).target,d=t.target.shadowRoot&&t.path&&t.path[0]||c,f=o.filter;if(w(i),!D&&!(/mousedown|pointerdown/.test(s)&&0!==t.button||o.disabled)&&!d.isContentEditable&&(c=n(c,o.draggable,i),c&&R!==c)){if(e=g(c,o.draggable),"function"==typeof f){if(f.call(this,t,c,this))return u(r,d,"filter",c,i,i,e),void(a&&t.preventDefault())}else if(f&&(f=f.split(",").some(function(t){if(t=n(d,t.trim(),i))return u(r,t,"filter",c,i,i,e),!0})))return void(a&&t.preventDefault());o.handle&&!n(d,o.handle,i)||this._prepareDragStart(t,l,c,e)}},_prepareDragStart:function(t,e,n,r){var i,a=this,l=a.el,d=a.options,h=l.ownerDocument;n&&!D&&n.parentNode===l&&(U=t,T=l,D=n,k=D.parentNode,O=D.nextSibling,R=n,j=d.group,P=r,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,D.style["will-change"]="all",i=function(){a._disableDelayedDrag(),D.draggable=a.nativeDraggable,s(D,d.chosenClass,!0),a._triggerDragStart(t,e),u(a,T,"choose",D,T,T,P)},d.ignore.split(",").forEach(function(t){c(D,t.trim(),f)}),o(h,"mouseup",a._onDrop),o(h,"touchend",a._onDrop),o(h,"touchcancel",a._onDrop),o(h,"selectstart",a),d.supportPointer&&o(h,"pointercancel",a._onDrop),d.delay?(o(h,"mouseup",a._disableDelayedDrag),o(h,"touchend",a._disableDelayedDrag),o(h,"touchcancel",a._disableDelayedDrag),o(h,"mousemove",a._disableDelayedDrag),o(h,"touchmove",a._disableDelayedDrag),d.supportPointer&&o(h,"pointermove",a._disableDelayedDrag),a._dragStartTimer=G(i,d.delay)):i())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),a(t,"mouseup",this._disableDelayedDrag),a(t,"touchend",this._disableDelayedDrag),a(t,"touchcancel",this._disableDelayedDrag),a(t,"mousemove",this._disableDelayedDrag),a(t,"touchmove",this._disableDelayedDrag),a(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){e=e||("touch"==t.pointerType?t:null),e?(U={target:D,clientX:e.clientX,clientY:e.clientY},this._onDragStart(U,"touch")):this.nativeDraggable?(o(D,"dragend",this),o(T,"dragstart",this._onDragStart)):this._onDragStart(U,!0);try{Z.selection?C(function(){Z.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(){if(T&&D){var e=this.options;s(D,e.ghostClass,!0),s(D,e.dragClass,!1),t.active=this,u(this,T,"start",D,T,T,P)}else this._nulling()},_emulateDragOver:function(){if(V){if(this._lastX===V.clientX&&this._lastY===V.clientY)return;this._lastX=V.clientX,this._lastY=V.clientY,rt||l(I,"display","none");var t=Z.elementFromPoint(V.clientX,V.clientY),e=t,n=lt.length;if(t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(V.clientX,V.clientY),e=t),e)do{if(e[H]){for(;n--;)lt[n]({clientX:V.clientX,clientY:V.clientY,target:t,rootEl:e});break}t=e}while(e=e.parentNode);rt||l(I,"display","")}},_onTouchMove:function(e){if(U){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=e.touches?e.touches[0]:e,a=o.clientX-U.clientX+i.x,s=o.clientY-U.clientY+i.y,c=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!t.active){if(r&&at(ot(o.clientX-this._lastX),ot(o.clientY-this._lastY))<r)return;this._dragStarted()}this._appendGhost(),z=!0,V=o,l(I,"webkitTransform",c),l(I,"mozTransform",c),l(I,"msTransform",c),l(I,"transform",c),e.preventDefault()}},_appendGhost:function(){if(!I){var t,e=D.getBoundingClientRect(),n=l(D),r=this.options;I=D.cloneNode(!0),s(I,r.ghostClass,!1),s(I,r.fallbackClass,!0),s(I,r.dragClass,!0),l(I,"top",e.top-Q(n.marginTop,10)),l(I,"left",e.left-Q(n.marginLeft,10)),l(I,"width",e.width),l(I,"height",e.height),l(I,"opacity","0.8"),l(I,"position","fixed"),l(I,"zIndex","100000"),l(I,"pointerEvents","none"),r.fallbackOnBody&&Z.body.appendChild(I)||T.appendChild(I),t=I.getBoundingClientRect(),l(I,"width",2*e.width-t.width),l(I,"height",2*e.height-t.height)}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;n._offUpEvents(),j.checkPull(n,n,D,t)&&($=b(D),$.draggable=!1,$.style["will-change"]="",l($,"display","none"),s($,n.options.chosenClass,!1),n._cloneId=C(function(){T.insertBefore($,D),u(n,T,"clone",D)})),s(D,i.dragClass,!0),e?("touch"===e?(o(Z,"touchmove",n._onTouchMove),o(Z,"touchend",n._onDrop),o(Z,"touchcancel",n._onDrop),i.supportPointer&&(o(Z,"pointermove",n._onTouchMove),o(Z,"pointerup",n._onDrop))):(o(Z,"mousemove",n._onTouchMove),o(Z,"mouseup",n._onDrop)),n._loopId=setInterval(n._emulateDragOver,50)):(r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,D)),o(Z,"drop",n),n._dragStartId=C(n._dragStarted))},_onDragOver:function(r){var i,o,a,s,c=this.el,u=this.options,f=u.group,v=t.active,g=j===f,m=!1,y=u.sort;if(void 0!==r.preventDefault&&(r.preventDefault(),!u.dragoverBubble&&r.stopPropagation()),!D.animated&&(z=!0,v&&!u.disabled&&(g?y||(s=!T.contains(D)):B===this||(v.lastPullMode=j.checkPull(this,v,D,r))&&f.checkPut(this,v,D,r))&&(void 0===r.rootEl||r.rootEl===this.el))){if(ct(r,u,this.el),it)return;if(i=n(r.target,u.draggable,c),o=D.getBoundingClientRect(),B!==this&&(B=this,m=!0),s)return e(v,!0),k=T,void($||O?T.insertBefore(D,$||O):y||T.appendChild(D));if(0===c.children.length||c.children[0]===I||c===r.target&&p(c,r)){if(0!==c.children.length&&c.children[0]!==I&&c===r.target&&(i=c.lastElementChild),i){if(i.animated)return;a=i.getBoundingClientRect()}e(v,g),d(T,c,D,o,i,a,r)!==!1&&(D.contains(c)||(c.appendChild(D),k=c),this._animate(o,D),i&&this._animate(a,i))}else if(i&&!i.animated&&i!==D&&void 0!==i.parentNode[H]){S!==i&&(S=i,L=l(i),N=l(i.parentNode)),a=i.getBoundingClientRect();var _=a.right-a.left,b=a.bottom-a.top,w=X.test(L.cssFloat+L.display)||"flex"==N.display&&0===N["flex-direction"].indexOf("row"),C=i.offsetWidth>D.offsetWidth,x=i.offsetHeight>D.offsetHeight,R=(w?(r.clientX-a.left)/_:(r.clientY-a.top)/b)>.5,F=i.nextElementSibling,E=!1;if(w){var A=D.offsetTop,P=i.offsetTop;E=A===P?i.previousElementSibling===D&&!C||R&&C:i.previousElementSibling===D||D.previousElementSibling===i?(r.clientY-a.top)/b>.5:P>A}else m||(E=F!==D&&!x||R&&x);var M=d(T,c,D,o,i,a,r,E);M!==!1&&(1!==M&&M!==-1||(E=1===M),it=!0,G(h,30),e(v,g),D.contains(c)||(E&&!F?c.appendChild(D):i.parentNode.insertBefore(D,E?F:i)),k=D.parentNode,this._animate(o,D),this._animate(a,i))}}},_animate:function(t,e){var n=this.options.animation;if(n){var r=e.getBoundingClientRect();1===t.nodeType&&(t=t.getBoundingClientRect()),l(e,"transition","none"),l(e,"transform","translate3d("+(t.left-r.left)+"px,"+(t.top-r.top)+"px,0)"),e.offsetWidth,l(e,"transition","all "+n+"ms"),l(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=G(function(){l(e,"transition",""),l(e,"transform",""),e.animated=!1},n)}},_offUpEvents:function(){var t=this.el.ownerDocument;a(Z,"touchmove",this._onTouchMove),a(Z,"pointermove",this._onTouchMove),a(t,"mouseup",this._onDrop),a(t,"touchend",this._onDrop),a(t,"pointerup",this._onDrop),a(t,"touchcancel",this._onDrop),a(t,"pointercancel",this._onDrop),a(t,"selectstart",this)},_onDrop:function(e){var n=this.el,r=this.options;clearInterval(this._loopId),clearInterval(q.pid),clearTimeout(this._dragStartTimer),x(this._cloneId),x(this._dragStartId),a(Z,"mouseover",this),a(Z,"mousemove",this._onTouchMove),this.nativeDraggable&&(a(Z,"drop",this),a(n,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(z&&(e.preventDefault(),!r.dropBubble&&e.stopPropagation()),I&&I.parentNode&&I.parentNode.removeChild(I),T!==k&&"clone"===t.active.lastPullMode||$&&$.parentNode&&$.parentNode.removeChild($),D&&(this.nativeDraggable&&a(D,"dragend",this),f(D),D.style["will-change"]="",s(D,this.options.ghostClass,!1),s(D,this.options.chosenClass,!1),u(this,T,"unchoose",D,k,T,P),T!==k?(M=g(D,r.draggable),M>=0&&(u(null,k,"add",D,k,T,P,M),u(this,T,"remove",D,k,T,P,M),u(null,k,"sort",D,k,T,P,M),u(this,T,"sort",D,k,T,P,M))):D.nextSibling!==O&&(M=g(D,r.draggable),M>=0&&(u(this,T,"update",D,k,T,P,M),u(this,T,"sort",D,k,T,P,M))),t.active&&(null!=M&&M!==-1||(M=P),u(this,T,"end",D,k,T,P,M),this.save()))),this._nulling()},_nulling:function(){T=D=k=I=O=$=R=F=E=U=V=z=M=S=L=B=j=t.active=null,st.forEach(function(t){t.checked=!0}),st.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":D&&(this._onDragOver(t),i(t));break;case"mouseover":this._onDrop(t);break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],r=this.el.children,i=0,o=r.length,a=this.options;i<o;i++)t=r[i],n(t,a.draggable,this.el)&&e.push(t.getAttribute(a.dataIdAttr)||v(t));return e},sort:function(t){var e={},r=this.el;this.toArray().forEach(function(t,i){var o=r.children[i];n(o,this.options.draggable,r)&&(e[t]=o)},this),t.forEach(function(t){e[t]&&(r.removeChild(e[t]),r.appendChild(e[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return n(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;return void 0===e?n[t]:(n[t]=e,void("group"===t&&ut(n)))},destroy:function(){var t=this.el;t[H]=null,a(t,"mousedown",this._onTapStart),a(t,"touchstart",this._onTapStart),a(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(a(t,"dragover",this),a(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),lt.splice(lt.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},o(Z,"touchmove",function(e){t.active&&e.preventDefault()}),t.utils={on:o,off:a,css:l,find:c,is:function(t,e){return!!n(t,e,t)},extend:_,throttle:y,closest:n,toggleClass:s,clone:b,index:g,nextTick:C,cancelNextTick:x},t.create=function(e,n){return new t(e,n)},t.version="1.7.0",t})},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{ref:"modal",staticClass:"modal fade",attrs:{tabindex:"-1",role:"dialog"},on:{click:function(e){return e.target!==e.currentTarget?null:void t.closeDialog()},keyup:function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key)?void t.closeDialog():null}}},[n("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.closeDialog()}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])]),t._v(" "),n("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("search-activity-items")))])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("keywords")))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.keywords,expression:"searchForm.keywords"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("keyword-or-title")},domProps:{value:t.searchForm.keywords},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?(e.preventDefault(),e.stopPropagation(),void t.searchForItems(e)):null},input:function(e){e.target.composing||t.$set(t.searchForm,"keywords",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("zoo")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.zoo,expression:"searchForm.zoo"}],staticClass:"form-control",on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?(e.preventDefault(),e.stopPropagation(),void t.searchForItems(e)):null},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.searchForm,"zoo",e.target.multiple?n:n[0])}}},t._l(t.zooOptions,function(e,r){return n("option",{domProps:{value:r}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("question-type")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.questionType,expression:"searchForm.questionType"}],staticClass:"form-control",on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?(e.preventDefault(),e.stopPropagation(),void t.searchForItems(e)):null},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected;
}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.searchForm,"questionType",e.target.multiple?n:n[0])}}},t._l(t.questionTypeOptions,function(e,r){return n("option",{domProps:{value:r}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("language")))]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.searchForm.language,expression:"searchForm.language"}],staticClass:"form-control",on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key)?(e.preventDefault(),e.stopPropagation(),void t.searchForItems(e)):null},change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.searchForm,"language",e.target.multiple?n:n[0])}}},t._l(t.languageOptions,function(e,r){return n("option",{domProps:{value:r}},[t._v(t._s(e))])}))]),t._v(" "),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:t.searchForItems}},[n("i",{staticClass:"mdi mdi-search-web",attrs:{"aria-hidden":"true"}}),t._v("\n                                "+t._s(t.$t("search"))+"\n                            ")])]),t._v(" "),0===t.searchResults.total&&t.searchResults.currentPage?n("div",{staticClass:"well text-center"},[t._v(t._s(t.$t("none-found")))]):t._e(),t._v(" "),t.searchResults.data&&t.searchResults.data.length>0?n("div",[n("strong",[t._v(t._s(t.searchResults.total)+" "+t._s(t.$t("items-found"))+":")]),t._v(" "),n("table",{staticClass:"table table-striped table-hover sz-search-results"},[n("thead",[n("tr",[n("th",{staticClass:"sortable","class":{active:t.isOrderedBy("title")},on:{click:function(e){t.sortSearchResults("title")}}},[n("i",{staticClass:"mdi mdi-sort-alphabetical pull-right"}),t._v("\n                                            "+t._s(t.$t("title"))+"\n                                        ")]),t._v(" "),n("th",{staticClass:"sortable hidden-xs","class":{active:t.isOrderedBy("zoo")},on:{click:function(e){t.sortSearchResults("zoo")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right"}),t._v("\n                                            "+t._s(t.$t("zoo"))+"\n                                        ")]),t._v(" "),n("th",{staticClass:"sortable","class":{active:t.isOrderedBy("type")},on:{click:function(e){t.sortSearchResults("type")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right hidden-xs"}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v("\n                                            "+t._s(t.$t("question-type"))+"\n                                            ")])]),t._v(" "),n("th",{staticClass:"sortable hidden-xs","class":{active:t.isOrderedBy("language")},on:{click:function(e){t.sortSearchResults("language")}}},[n("i",{staticClass:"mdi mdi-sort-numeric pull-right"}),t._v("\n                                            "+t._s(t.$t("language"))+"\n                                        ")]),t._v(" "),n("th")])]),t._v(" "),n("tbody",t._l(t.sortedSearchResults,function(e){return n("tr",[n("td",{attrs:{title:e.description}},[t._v(t._s(e.title))]),t._v(" "),n("td",{staticClass:"hidden-xs"},[t._v(t._s(t.getZooFromId(e.zoo)))]),t._v(" "),n("td",[n("img",{staticClass:"sz-img-w30",attrs:{src:e.icon_url,alt:"icon"}}),t._v(" "),n("span",{staticClass:"hidden-xs"},[t._v(" "+t._s(t.getQuestionTypeFromId(e.type)))])]),t._v(" "),n("td",{staticClass:"hidden-xs"},[t._v(t._s(t.getLanguageFromId(e.language)))]),t._v(" "),n("td",[n("transition",{attrs:{name:"button-toggle",mode:"out-in","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.hasItem(e)?n("button",{key:"remove",staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(n){t.removeItem(e)}}},[n("i",{staticClass:"mdi mdi-minus"})]):n("button",{key:"add",staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(n){t.addItem(e)}}},[n("i",{staticClass:"mdi mdi-plus"})])])],1)])}))]),t._v(" "),n("div",{staticClass:"text-center"},[n("transition",{attrs:{name:"button-load-more","enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[t.searchResults.loadMore?n("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:function(e){t.loadMoreItems()}}},[t._v(t._s(t.$t("load-more")))]):t._e()])],1)]):t._e()])]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.inAjaxCall},on:{click:function(e){t.closeDialog()}}},[t._v(t._s(t.$t("close")))])])])])]),t._v(" "),n("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(e){t.openDialog()}}},[n("i",{staticClass:"mdi mdi-search-web",attrs:{"aria-hidden":"true"}}),t._v("\n        "+t._s(t.$t("search-activity-items"))+"\n    ")]),t._v(" "),t.canCreateActivityItem?n("a",{staticClass:"btn btn-success",attrs:{href:t.baseUrl+"/activity_items/create",target:"_blank"}},[n("i",{staticClass:"mdi mdi-plus",attrs:{"aria-hidden":"true"}}),t._v("\n        "+t._s(t.$t("create-new-activity-item"))+"\n        "),n("i",{staticClass:"mdi mdi-open-in-new",attrs:{"aria-hidden":"true"}})]):t._e(),t._v(" "),n("ul",{staticClass:"list-group sz-sortable-list"},[n("draggable",{attrs:{list:t.items,options:t.options}},t._l(t.items,function(e){return n("li",{staticClass:"list-group-item",attrs:{title:e.description}},[n("input",{staticClass:"form-control",attrs:{type:"hidden",name:"activity_items[]"},domProps:{value:e.id}}),t._v(" "),n("i",{staticClass:"mdi mdi-drag-vertical"}),t._v(" "),n("button",{staticClass:"btn btn-danger btn-sm pull-right",attrs:{type:"button"},on:{click:function(n){t.removeItem(e)}}},[n("i",{staticClass:"mdi mdi-minus"})]),t._v(" "),n("img",{staticClass:"sz-img-w30",attrs:{src:e.icon_url,alt:"icon"}}),t._v("\n                 \n                "),n("span",[t._v("\n                    "+t._s(e.title)+"\n                ")])])}))],1)])},staticRenderFns:[]}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};!function(){function e(t){function e(t){t.parentElement.removeChild(t)}function n(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}function o(t,e){return t.map(function(t){return t.elm}).indexOf(e)}function a(t,e,n){if(!t)return[];var i=t.map(function(t){return t.elm}),o=[].concat(r(e)).map(function(t){return i.indexOf(t)});return n?o.filter(function(t){return t!==-1}):o}function s(t,e){var n=this;this.$nextTick(function(){return n.$emit(t.toLowerCase(),e)})}function l(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),s.call(e,t,n)}}var c=["Start","Add","Remove","Update","End"],u=["Choose","Sort","Filter","Clone"],d=["Move"].concat(c,u).map(function(t){return"on"+t}),f=null,h={options:Object,list:{type:Array,required:!1,"default":null},value:{type:Array,required:!1,"default":null},noTransitionOnDrag:{type:Boolean,"default":!1},clone:{type:Function,"default":function(t){return t}},element:{type:String,"default":"div"},move:{type:Function,"default":null}},p={name:"draggable",props:h,data:function(){return{transitionMode:!1,componentMode:!1}},render:function(t){var e=this.$slots["default"];if(e&&1===e.length){var n=e[0];n.componentOptions&&"transition-group"===n.componentOptions.tag&&(this.transitionMode=!0)}var i=e,o=this.$slots.footer;return o&&(i=e?[].concat(r(e),r(o)):[].concat(r(o))),t(this.element,null,i)},mounted:function(){var e=this;if(this.componentMode=this.element.toLowerCase()!==this.$el.nodeName.toLowerCase(),this.componentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter element value or remove transition-group. Current element value: "+this.element);var n={};c.forEach(function(t){n["on"+t]=l.call(e,t)}),u.forEach(function(t){n["on"+t]=s.bind(e,t)});var r=i({},this.options,n,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new t(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},isCloning:function(){return!!this.options&&!!this.options.group&&"clone"===this.options.group.pull},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){for(var e in t)d.indexOf(e)==-1&&this._sortable.option(e,t[e])},deep:!0},realList:function(){this.computeIndexes()}},methods:{getChildrenNodes:function(){if(this.componentMode)return this.$children[0].$slots["default"];var t=this.$slots["default"];return this.transitionMode?t[0].child.$slots["default"]:t},computeIndexes:function(){var t=this;this.$nextTick(function(){t.visibleIndexes=a(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode)})},getUnderlyingVm:function(t){var e=o(this.getChildrenNodes()||[],t);if(e===-1)return null;var n=this.realList[e];return{index:e,element:n}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&"transition-group"===e.$options._componentTag?e.$parent:e},emitChanges:function(t){var e=this;this.$nextTick(function(){e.$emit("change",t)})},alterList:function(t){if(this.list)t(this.list);else{var e=[].concat(r(this.value));t(e),this.$emit("input",e)}},spliceList:function v(){var t=arguments,v=function(e){return e.splice.apply(e,t)};this.alterList(v)},updatePosition:function g(t,e){var g=function(n){return n.splice(e,0,n.splice(t,1)[0])};this.alterList(g)},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};var o=r.realList,a={list:o,component:r};if(e!==n&&o&&r.getUnderlyingVm){var s=r.getUnderlyingVm(n);if(s)return i(s,a)}return a},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots["default"][0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){var e=this.getChildrenNodes();e[t].data=null;var n=this.getComponent();n.children=[],n.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),f=t.item},onDragAdd:function(t){var n=t.item._underlying_vm_;if(void 0!==n){e(t.item);var r=this.getVmIndex(t.newIndex);this.spliceList(r,0,n),this.computeIndexes();var i={element:n,newIndex:r};this.emitChanges({added:i})}},onDragRemove:function(t){if(n(this.rootContainer,t.item,t.oldIndex),this.isCloning)return void e(t.clone);var r=this.context.index;this.spliceList(r,1);var i={element:this.context.element,oldIndex:r};this.resetTransitionData(r),this.emitChanges({removed:i})},onDragUpdate:function(t){e(t.item),n(t.from,t.item,t.oldIndex);var r=this.context.index,i=this.getVmIndex(t.newIndex);this.updatePosition(r,i);var o={element:this.context.element,oldIndex:r,newIndex:i};this.emitChanges({moved:o})},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=[].concat(r(e.to.children)).filter(function(t){return"none"!==t.style.display}),i=n.indexOf(e.related),o=t.component.getVmIndex(i),a=n.indexOf(f)!=-1;return a||!e.willInsertAfter?o:o+1},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),o=this.context,a=this.computeFutureIndex(r,t);return i(o,{futureIndex:a}),i(t,{relatedContext:r,draggedContext:o}),n(t,e)},onDragEnd:function(t){this.computeIndexes(),f=null}}};return p}Array.from||(Array.from=function(t){return[].slice.call(t)});var o=n(4);t.exports=e(o)}()},function(t,e,n){var r=n(0);Vue.use(r),Vue.config.lang=window.Laravel.locale,Vue.locale(window.Laravel.locale,_.cloneDeep(window.Laravel.translations)),Vue.component("activity-items",n(1));new Vue({el:"form.activity-create,form.activity-edit",mounted:function(){var t=this,e=this;e.baseUrl=window.Laravel.baseUrl,e.apiUrl=window.Laravel.apiUrl,e.canCreateActivityItem=window.Laravel.canCreateActivityItem,window.Laravel.hasFeaturedImage&&(e.hasFeaturedImage=!0),$(e.$refs.difficultyLevelButtons).find("button").on("click",function(t){var n=$(t.target);$(e.$refs.difficultyLevelButtons).find("button").removeClass("active"),n.addClass("active"),$(e.$refs.difficultyLevel).val(n.data("value"))}),$(e.$refs.proximityCheck).on("change",function(t){var n=$(e.$refs.proximityCheck).prop("checked");$(e.$refs.proximityRadius).prop("disabled",!n)}),$('[data-toggle="tooltip"]').tooltip(),$(e.$refs.proximityCheck).prop("checked")||$(e.$refs.proximityRadius).prop("disabled",!0),$(e.$refs.featuredImage).on("change",function(e){t.canResetFeaturedImage=!0})},data:function(){return{baseUrl:"/",apiUrl:"/api",canCreateActivityItem:!1,canResetFeaturedImage:!1,hasFeaturedImage:!1}},methods:{resetFeaturedImage:function(t){t.preventDefault(),$(this.$refs.featuredImage).val()&&(this.canResetFeaturedImage=!1,$(this.$refs.featuredImage).val(""))},canRemoveFeaturedImage:function(){return!this.hasFeaturedImage||this.canResetFeaturedImage}}})}]);